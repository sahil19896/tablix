{"version":3,"file":"geolocation-min.js","sources":["../../../../../apps/tablix/tablix/public/js/gps/utils.js","../../../../../apps/tablix/tablix/public/js/gps/tablix_page.js","../../../../../apps/tablix/tablix/public/js/gps/geolocation.js","../../../../../apps/tablix/tablix/public/js/gps/grid.js","../../../../../apps/tablix/tablix/public/js/gps/filters.js","../../../../../apps/tablix/tablix/public/js/gps/cin_cout.js","../../../../../apps/tablix/tablix/public/js/gps/googlemap.js"],"sourcesContent":["/*\n\tDeveloper Sahil Saini\n\tEmail sahil.saini@tablix.ae\n\n*/\n\nfrappe.provide(\"tablix.gps.utils\");\n\nvar watch_list = [];\n$.extend(tablix.gps.utils, {\n\n\tget_current_location: function(args){\n\t\tvar options = args.options?args.options:tablix.gps.utils.get_default_args();\n\t\tif(navigator.geolocation){\n\t\t\n\t\t\tnavigator.geolocation.getCurrentPosition(function(data){\n\n\t\t\t\t\tif(!args.callback){\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\targs.callback(data);\t\n\t\t\t\t\t}\n\t\t\t}, tablix.gps.utils.current_location_error, options);\n\t\t}\n\t\telse{\n\t\t\tconsole.log(__(\"Geo location is not supported in your browser\"));\n\t\t}\n\t},\n\twatch_location: function(args){\n\t\tvar options = args.options?args.options:tablix.gps.utils.get_default_args();\n\t\tif(navigator.geolocation){\n\t\n\t\t\ttablix.gps.utils.clear_watch_list();\t\n\t\t\tw_id = navigator.geolocation.watchPosition(function(data){\n\n\t\t\t\t\tif(!args.callback){\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\targs.callback(data);\t\n\t\t\t\t\t}\n\t\t\t}, tablix.gps.utils.current_location_error, options);\n\t\twatch_list.push(w_id);\t\n\t\t}\n\t\telse{\n\t\t\tconsole.log(__(\"Geo location is not supported in your browser\"));\n\t\t}\n\t},\n\n\tclear_watch_list: function(){\n\n\t\tconsole.log(watch_list);\n\t\tfor(var i=0; i<watch_list.length; i++){\n\t\t\tnavigator.geolocation.clearWatch(watch_list[i]);\n\t\t}\n\t},\t\n\tget_default_args: function(){\n\n\t\tvar options = {\n\t\t\tenableHighAccuracy: true,\n\t\t\ttimeout: 10000,\n\t\t\tmaximumAge: 0\n\t\t};\n\t\n\t\treturn options\n\t},\n\t\n\tcurrent_location_error: function(data){\n\t\t\t\n\t\tfrappe.msgprint(__(\"Error while getting location\"));\n\t\tconsole.log(data);\n\t\t\t\t\t\t\t\n\t},\n\thelper_function: function(data){\n\n\t\tvar data = data.coords;\n\t\t$.extend(data, frappe.user_info());\n\t\tfrappe.call({\n\t\t\t\"method\":\"tablix.whitelisted.gps_location\",\n\t\t\t\"args\": data,\n\t\t\t\"callback\": function(res){\n\t\t\tconsole.log(res);\n\t\t\t}\n\t\t});\n\t},\n\t\n\tload_safe_google_map: function(args){\n\t\tvar callback = args.callback;\n\t\n\t\tif(!frappe.boot.tablix.geo.__map_loaded){\n\t\t\tvar ele = document.createElement(\"script\");\n\t\t\tvar url = \"https://maps.googleapis.com/maps/api/js?key={0}&callback={1}\";\n\t\t\tele.src = format(url, [frappe.boot.tablix.geo.google_api_key, \"load_map\"]);\n\t\t\t$(ele).appendTo('head');\n\t\t}\n\t\telse{\n\t\t\t\n\t\t}\n\t}\n\t\n});\n","/*\n\tDeveloper Navdeep Ghai\n\tEmail sahil.saini@tablix.ae\n\n*/\nfrappe.provide(\"tablix.gps\");\ntablix.gps.make_page =  function(args){\n\n\tif(tablix.gps[args.cls_name]){\n\t\treturn new tablix.gps[args.cls_name](args);\n\t}\n\telse{\n\t\tconsole.error(__(\"Invalid Class Name\"));\n\t}\n\n}\n\n/*\n\tBase Dashboard class to init some default values and filters for every page\n*/\ntablix.gps.Dashboard = frappe.ui.Page.extend({\n\n\tinit: function(){\n\t\n\t\tthis.set_document_title = true;\n                this.buttons = {};\n                this.fields_dict = {};\n                this.views = {};\n                this.make();\n                frappe.ui.pages[frappe.get_route_str()] = this;\n\t},\n\tmake: function(){\n\t\tthis._super();\n\t\tthis.render_template();\n\t\tthis.init_filters();\n\t},\n\tadd_main_section: function() {\n\t\tvar me = this;\n                $(frappe.render_template(\"tablix_page\", {\"title\":__(me.title)})).appendTo($(\"#body_div\"));\n                if(this.single_column) {\n                        // nesting under col-sm-12 for consistency\n                        this.add_view(\"main\", '<div class=\"row layout-main\">\\\n                                        <div class=\"col-md-12 layout-main-section-wrapper\">\\\n                                                <div class=\"layout-main-section\"></div>\\\n                                                <div class=\"layout-footer hide\"></div>\\\n                                        </div>\\\n                                </div>');\n                } else {\n                        this.add_view(\"main\", '<div class=\"row layout-main\">\\\n                                <div class=\"col-md-12 layout-main-section-wrapper\">\\\n                                        <div class=\"layout-main-section\"></div>\\\n                                        <div class=\"layout-footer hide\"></div>\\\n                                </div>\\\n                        </div>');\n                }\n\n                this.setup_page();\n        },\n\tinit_filters: function(){\n\t\tvar me = this;\n\t\tif(this.include_filters){\n\t\t\tthis.tablix_filters = new tablix.gps.Filters(this.args);\n\t\t}\n\t\twindow.form  = this;\n\t},\n\trender_template: function(){\n\t\tvar me =this;\n\t\tif(me.template){\n\t\t\tvar args = me.template.args? me.template.args: {};\n\t\t\tvar name =  me.template.name;\n\t\t\t$(frappe.render_template(name, args)).appendTo($(\".tablix-page\"));\t\t\n\t\t}\n\t\n\t},\n\n});\n\n","/*\n\tDeveloper Navdeep\n\tEmail navdeep.singh@tablix.ae\n\tLicense Tablix LLC Dubai\n*/\nfrappe.provide(\"tablix.geolocation\");\n\ntablix.geolocation.Location  = Class.extend({\n\n\tinit :function(args){\n\t\t$.extend(this, args);\n\t\tthis.map  = null;\n\t\tthis.markers = [];\n\t\tthis.info_windows = [];\n\t\tthis.current_location = null;\n\t\tthis.make();\n\t},\n\n\tmake: function(){\n\t\tthis.set_field();\n\t\tthis.init_div();\n\t\tthis.load_google_map();\n\t\t\n\t},\n\n\tset_field: function(){\n\t\tif (!this.map_field){\n\t\t\tthis.map_field = this.frm.get_field(\"google_map\");\n\t\t\tthis.$wrapper = this.map_field.$wrapper;\n\t\t}\n\t},\n\n\tcreate_search_field: function(){\n\n\t\tif(!this.is_searchable){\n\t\t\treturn false;\n\t\t}\n\t\tvar me = this;\n\t\tif(this.frm.doc.docstatus == 1 || !me.map){\n\t\t\treturn false;\n\t\t}\n\t\tif(!this.map_search){\n\t\t \tme.search_input = \"<input id='google-map-search' class='form-control' type='text' placeholder='Search Box'>\";\n\t\t\tme.$wrapper.prepend(this.search_input);\n\t\t\tme.ele  = document.getElementById(\"google-map-search\");\n\t\t\tme.search_box = new google.maps.places.SearchBox(this.ele);\n\t\t\tme.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.ele);\n\t\t\tme.map.addListener('bounds_change' , function(){\n\t\t\t\tme.search_box.setBounds(map.getBounds());\n\t\t\t});\n\t\t\tme.search_box.addListener('places_changed', function(){\n\t\t\t\t\tme.handle_places();\n\t\t\t});\n\t\t\t\n\t\t}\n\t},\n\t\n\thandle_places: function(){\n\n\t\tvar me  = this;\n\t\tplaces = me.search_box.getPlaces();\n\t\tif(!places){\n\t\t\tfrappe.msgprint(\"Select location has no coordinates\");\n\t\t\treturn false;\n\t\t}\n\t\tplace = places[0];\n\t\targs = {}\n\t\t$.extend(args, {\n\t\t\tlatitude: place.geometry.location.lat(),\n\t\t\tlongitude: place.geometry.location.lng(),\n\t\t\tlocation_name: place.name,\n\t\t\tplace_id: place.place_id\n\t\t});\t\n\t\tme.draw_marker(args);\n\t\tif(me.callback){\n\t\t\tme.callback(place);\n\t\t}\n\t},\n\tinit_div: function(){\n\n\t\tthis.map_div = `<div class='container'>\n\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t<div id='google-map' style='width:100%; height:500px;' ></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>`;\n\t\tthis.$wrapper.append(this.map_div);\n\t\t\t\n\t},\n\tload_google_map: function(){\n\t\tvar me = this;\n\t\t_frm = cur_frm;\n\t\tload_map = me.create_map;\t\n\t\tif(!window.google.maps){\n                        ele = document.createElement(\"script\");\n                        lib = \"libraries=places\";\n                        url = \"https://maps.googleapis.com/maps/api/js?key={0}&callback=load_map&{1}\";\n                        ele.src = format(url, [frappe.boot.tablix.geo.google_api_key,lib ]);\n                        $(ele).appendTo('head');\n\n                }\n\n\t},\n\tcreate_map: function(flag){\n\t\tconsole.log(flag);\t\n\t\tele = document.getElementById(\"google-map\");\n\t\toptions = {}\n\t\tif(!_frm.doc.__islocal  == 1){\n\t\t\tlocations = _frm.doc.locations;\n\t\t\tif(!locations|| locations.length == 0 || locations == undefined){\n\t\t\t\t_frm.cscript.setup_default_location();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor(var i=0;i<locations.length;i++){\n\t\t\t\tvar temp = locations[i];\n\t\t\t\tif(i==0){\n\t\t\t\t\t\n\t\t\t\t\toptions = { \n\t\t\t\t\t\tcenter:{\n\t\t\t\t\t\t\tlat: flt(temp.latitude),\n\t\t\t\t\t\t\tlng: flt(temp.longitude)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tzoom:1\n\t\t\t\t\t};\n\t\t\t\t\t_frm.map = new google.maps.Map(ele, options);\n\t\t\t\t\t_frm.cscript.draw_marker(temp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t_frm.cscript.draw_marker(temp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_frm.cscript.create_search_field();\n\t\t}\n\t\telse{\n\t\t\t_frm.cscript.setup_default_location();\n\t\t}\n\t},\n\tdraw_marker: function(args){\n\t\tif(!this.map){\n\t\t\tif(this.frm.map){\n\t\t\t\tthis.map =  this.frm.map;\n\t\t\t}\n\t\t\telse if(!this.frm.map || !this.map){\n\t\t\t\tele = document.getElementById(\"google-map\");\n\t\t\t\tthis.map = new google.maps.Map(ele, {});\n\t\t\t}\n\t\t}\n\t\tvar me = this;\n\t\tvar formatted_address = args.location_name?args.location_name:\"No Address found\";\n\t\tvar place_id = null;\n\t\tvar marker = new google.maps.Marker({\n\t\t\t\t\tposition:{\n\t\t\t\t\t\tlat:flt(args.latitude),\n\t\t\t\t\t\tlng: flt(args.longitude),\n\t\t\t\t\t},\n\t\t\t\t\tmap: me.map,\n\t\t\t\t\ttitle: formatted_address\n\t\t});\n\t\tvar info =  new google.maps.InfoWindow({content: formatted_address || \"No Info\"})\n\t\tmarker.addListener(\"click\", function(){\n\t\t\tinfo.open(me.map, marker);\n\t\t});\n\t\tvar position = new google.maps.LatLng(flt(args.latitude), flt(args.longitude));\n\t\tvar bounds = new google.maps.LatLngBounds();\n\t\tthis.markers.push(marker);\n\t\tthis.info_windows.push(info);\n\t\tbounds.extend(position);\n\t\tme.map.fitBounds(bounds);\n\t},\n\tclear_markers: function(){\n\n\t\tvar me = this;\n\t\tif(me.markers){\n\t\t\t$.each(me.markers, function(idx, val){\n\t\t\t\tval.setMap(null);\n\t\t\t});\n\t\t}\n\t},\n\n\tload_current_location: function(data){\n\t\tvar me = this;\n\t\tme.draw_marker(data);\n\t\tif(!me.search_box){\n\t\t\tme.create_search_field();\n\t\t}\n\t},\n\t\n\tsetup_default_location: function(){\n\n\t\tvar args = {};\n\t\tvar me = this;\n\t\tif(!this.default_location || this.frm.doc.__islocal==1){\n\t\t\t$.extend(args, {\n\t\t\t\tlatitude: frappe.boot.tablix.geo.latitude,\n\t\t\t\tlongitude: frappe.boot.tablix.geo.longitude,\n\t\t\t\tlocation_name: frappe.boot.tablix.geo.location_name,\n\t\t\t});\n\t\t}\n\t\telse{\n\t\t\t$.extend(args, {\n\t\t\t\tlatitude: me.default_location.latitude,\n\t\t\t\tlongitude: me.default_location.longitude,\n\t\t\t\tlocation_name: me.default_location.location_name,\n\t\t\t});\t\n\t\t}\n\t\t_frm.cscript.draw_marker(args);\n\t\t_frm.cscript.create_search_field();\n\t\t\n\t\treturn false;\n\t}\n});\n","\nfrappe.provide(\"tablix.gps\");\n\ntablix.gps.Grid =  Class.extend({\n\n\tinit: function(args){\n\t\t\n\t\t$.extend(this, args);\n\t\tthis.make()\n\t},\n\tmake: function(){\n\t\tthis.config();\n\t},\n\t\n\tconfig: function(){\n\n\t\tvar me= this;\n\t\tvar args = {\n\t\t\tfields: me.fields,\n\t\t\tdata: me.data,\n\n\t\t\tautoload: false,\n\t\t\tcontroller: {\n\t\t\t\tloadData: $.noop,\n\t\t\t\tinsertItem: $.noop,\n\t\t\t\tupdateItem: $.noop,\n\t\t\t\tdeleteItem: $.noop\n\t\t\t},\n\t\t\twidth: \"auto\",\n\t\t\theight: \"auto\",\n\n\t\t\theading: true,\n\t\t\tfiltering: false,\n\t\t\tinserting: false,\n\t\t\tediting: false,\n\t\t\tselecting: true,\n\t\t\tsorting: false,\n\t\t\tpaging: false,\n\t\t\tpageLoading: false,\n\n\t\t\trowClass: function(item, itemIndex) {  },\n\t\t\trowClick: function(args) {  },\n\t\t\trowDoubleClick: function(args) {  },\n\n\t\t\tnoDataContent: \"Not found\",\n\n\t\t\tconfirmDeleting: true,\n\t\t\tdeleteConfirm: \"Are you sure?\",\n\n\t\t\tpagerContainer: null,\n\t\t\tpageIndex: 1,\n\t\t\tpageSize: 20,\n\t\t\tpageButtonCount: 15,\n\t\t\tpagerFormat: \"Pages: {first} {prev} {pages} {next} {last}    {pageIndex} of {pageCount}\",\n\t\t\tpagePrevText: \"Prev\",\n\t\t\tpageNextText: \"Next\",\n\t\t\tpageFirstText: \"First\",\n\t\t\tpageLastText: \"Last\",\n\t\t\tpageNavigatorNextText: \"...\",\n\t\t\tpageNavigatorPrevText: \"...\",\n\n\t\t\tinvalidNotify: function(args) {  },\n\t\t\tinvalidMessage: \"Invalid data entered!\",\n\n\t\t\tloadIndication: true,\n\t\t\tloadIndicationDelay: 500,\n\t\t\tloadMessage: \"Please, wait...\",\n\t\t\tloadShading: true,\n\n\t\t\tupdateOnResize: true,\n\n\t\t\trowRenderer: null,\n\t\t\theaderRowRenderer: null,\n\t\t\tfilterRowRenderer: null,\n\t\t\tinsertRowRenderer: null,\n\t\t\teditRowRenderer: null\n\t\t}\n\t\n\t\tthis.grid = $(me.cls_name).jsGrid(args);\n\t},\n\n});\n\n\ntablix.gps.LoadTask = Class.extend({\n\t\n\tinit: function(args){\n\n\t\t$.extend(this, args);\n\t\tthis.args = args;\n\t\tthis._super();\n\t},\n\t\n\tmake: function(args){\n\t\n\t\tthis._super();\n\t},\n\t\n\tget_data: function(){\n\n\t\t\t\t\n\t\t\n\t}\n});\n","/*\n\tDeveloper Navdeep Ghai\n\tEmail navdeep.singh@tablix.ae\n\n*/\nfrappe.provide(\"tablix.gps\");\n\n/*\n\tInitialize filters\n*/\ntablix.gps.Filters = Class.extend({\n\n\tinit: function(args){\n\t\t$.extend(this, args);\n\t\tthis.fields_dict = {};\n\t\tthis.make();\n\t},\n\t\n\tmake: function(){\n\t\tthis.init_filters();\n\t},\n\n\tinit_filters: function(){\n\t\tthis.fields = []\n\t\tthis.filters = this.filters?this.filters:[];\n\t\tvar me = this;\n\t\t$.each(me.filters, function(idx, val){\n\t\t\tcls_name = format(\".{0}\", [val.cls_name]);\n\t\t\tfield = new frappe.ui.form.make_control({\n\t\t\t\t\tdf:{\n\t\t\t\t\t\tfieldname:val.fieldname,\n\t\t\t\t\t\tfieldtype: val.fieldtype,\n\t\t\t\t\t\tdefault: val.default,\n\t\t\t\t\t\toptions: val.options?val.options:null,\n\t\t\t\t\t\tplaceholder: val.placeholder\n\t\t\t\t\t},\n\t\t\t\t\tparent: $.find(cls_name),\n\t\t\t\t\tonly_input: true\n\t\t\t});\n\t\t\tfield.make_input();\n\t\t\tme.fields.push(field);\n\t\t\tif(me.filters.length-1 == idx)\n\t\t\t\tme.update_link_field();\n\t\t\tme.fields_dict[field.df.fieldname] = field;\n\t\t});\n\t\t\n\t\n\t},\n\tget_values: function(){\n\n\t\tvalues = {};\n\t\tfor(var i=0; i<this.fields.length; i++){\n\t\t\ttemp = this.fields[i];\n\t\t\tvalues[temp.df.fieldname] =  temp.$input.val();\n\t\t}\n\t\treturn values;\n\t},\n\tupdate_link_field: function(){\n\n\t\t$(\".link-field\").removeAttr(\"style\");\n\t},\n\tvalidate_mandatory: function(){\n\t\tvar messages = \"\";\n\t\tfor(var i=0; i<this.fields.length; i++){\n\t\t\ttemp  = this.fields[0]\n\t\n\t\t\tif(temp.df.reqd==1 && (!temp.$input.val() ||  temp.$input.val() == \"\")){\n\t\t\t\t msg = format(\" {0} \", [temp.df.label || temp.df.fieldname])\n\t\t\t\tmessages += msg;\n\t\t\t}\n\t\t\t\n\t\t\n\t\t}\n\t\tthis.reqd = false;\n\t\tif(messages != \"\"){\n\t\t\tthis.reqd = true;\n\t\t\tmsg = format(\"Please enter mandatory fields {0} \", [msg]);\n\t\t\tfrappe.msgprint(__(msg));\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\tget_field: function(fieldname){\n\n\t\tif(this.fields_dict.hasOwnProperty(fieldname))\n\t\t\treturn this.fields_dict[fieldname];\n\t\treturn false;\n\t}\n});\n","/*\n\tDeveloper Navdeep Ghai\n\tEmail navdeep.singh@tablix.ae\n\n*/\nfrappe.provide(\"tablix.gps\");\n\n\ntablix.gps.ClockAttendance = tablix.gps.Dashboard.extend({\n\n\tinit:  function(args){\n\t\t$.extend(this, args);\n\t\tthis.args = args;\n\t\tthis._super()\n\t},\n\tmake: function(){\n\t\tthis._super();\n\t\tthis.handler()\n\t},\n\n\thandler: function(){\n\n\t\tvar me = this;\n\t\t$(\"#dashboard-search\").on(\"click\", function(event){\n\t\t\tflag = me.tablix_filters.validate_mandatory();\n\t\t\tif(!flag){\n\t\t\t\treturn  false;\n\t\t\t}\n\t\t\tvalues = me.tablix_filters.get_values();\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"tablix.whitelisted.clock_in_clock_out_report\",\n\t\t\t\targs: values,\n\t\t\t\tcallback: function(res){\n\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tdraw_clock_in: function(){\n\t},\n\n\tdraw_clock_out: function(){\n\t},\n\t\n});\n","/*\n\tDeveloper Navdeep Ghai\n\tEmail navdeep.singh@tablix.ae\n\n*/\nfrappe.provide(\"tablix.gps\");\n\ntablix.gps.GoogleMap = Class.extend({\n\n\tinit: function(args){\n\n\t\t$.extend(this, args);\n\t\t$(\"#\"+this.map_id).empty();\n\t\tthis.make();\n\t},\n\n\tmake: function(){\n\t\tthis.map_div = document.getElementById(this.map_id);\n\t\tthis.markers = [];\n\t\tthis.info_windows = [];\n\t\tthis.init_map();\n\t\t\n\t},\n\t\n\tinit_map: function(){\n\n\t\tvar me = this;\n\t\tif(this.default_location){\n\t\t\tthis.display_default_location();\n\t\t}\n\t\telse{\n\t\t\tthis.display_locations(null);\n\t\t\tthis.display_user_info();\n\t\t}\n\t},\n\n\tdisplay_locations: function(loc){\n\t\tif(this.default_location){\n\t\t\tloc = loc.coords;\n\t\t}\n\t\tvar locations = loc?[loc]:this.message.results;\n\t\tthis.map = new google.maps.Map(this.map_div, {\"zoom\":18});\n\t\tthis.create_markers(locations);\n\t},\n\n\tcreate_markers: function(locations){\n\t\tvar me = this;\n\t\t$.each(locations, function(idx, val){\n\n\t\t\tvar args = {\n\t\t\t\tposition:{\n\t\t\t\t\tlat:flt(val.latitude),\n\t\t\t\t\tlng:flt(val.longitude),\n\t\t\t\t},\n\t\t\t\tmap: me.map,\n\t\t\t\ttitle: val.detail? val.detail: \"Current Location\"\n\t\t\t};\n\t\t\tmarker = new google.maps.Marker(args);\n\t\t\tme.set_info_window(marker, val);\n\t\t\tme.markers.push(marker);\n\t\t});\n\t\ttemp = locations.length>= 1? locations[0]:null;\n\t\tif(temp){\n\t\t\tlatlng = new google.maps.LatLng({lat: flt(temp.latitude), lng: flt(temp.longitude)});\n\t\t\tthis.map.setCenter(latlng);\n\t\t}\n\n\n\t},\n\tdisplay_default_location: function(){\n\t\t\n\t\tvar args =  {}\n\t\tvar me = this;\n\t\targs.callback = function(loc){\n\t\t\tme.display_locations(loc);\n\t\t}\n\t\ttablix.gps.utils.get_current_location(args);\n\t},\n\n\tdisplay_user_info: function(){\n\t\t\n\t\t$(\".user-emp-info\").empty();\t\n\t\tif(!this.default_location){\n\t\t\t$(frappe.render_template(\"user_info\",{\n\t\t\t\t\"user_info\":this.message.user_info,\n\t\t\t\t\"emp_info\": this.message.emp_info\n\t\t\t})).appendTo($(\".user-emp-info\"));\n\t\t}\n\t},\n\t\n\tset_info_window: function(marker,val){\n\t\tme = this;\n\t\tvar infowindow = new google.maps.InfoWindow({content: val.detail});\n\t\tmarker.addListener('click', function() {\n    \t\t\tinfowindow.open(me.map, marker);\n  \t\t});\n\t}\n\n\t\n});\n\n\n"],"names":["frappe","provide","watch_list","$","extend","tablix","gps","utils","get_current_location","args","options","get_default_args","navigator","geolocation","getCurrentPosition","data","callback","current_location_error","console","log","__","watch_location","clear_watch_list","w_id","watchPosition","push","i","length","clearWatch","enableHighAccuracy","timeout","maximumAge","msgprint","helper_function","coords","user_info","call","method","res","load_safe_google_map","boot","geo","__map_loaded","ele","document","createElement","src","format","google_api_key","appendTo","make_page","cls_name","error","Dashboard","ui","Page","init","this","set_document_title","buttons","fields_dict","views","make","pages","get_route_str","_super","render_template","init_filters","add_main_section","title","single_column","add_view","setup_page","include_filters","tablix_filters","Filters","window","form","template","name","Location","Class","map","markers","info_windows","current_location","set_field","init_div","load_google_map","map_field","frm","get_field","$wrapper","create_search_field","is_searchable","me","doc","docstatus","map_search","search_input","prepend","getElementById","search_box","google","maps","places","SearchBox","controls","ControlPosition","TOP_LEFT","addListener","setBounds","getBounds","handle_places","getPlaces","place","latitude","geometry","location","lat","longitude","lng","location_name","place_id","draw_marker","map_div","append","_frm","cur_frm","load_map","create_map","lib","url","flag","__islocal","locations","undefined","cscript","setup_default_location","temp","center","flt","zoom","Map","formatted_address","marker","Marker","position","info","InfoWindow","content","open","LatLng","bounds","LatLngBounds","fitBounds","clear_markers","each","idx","val","setMap","load_current_location","default_location","Grid","config","fields","autoload","controller","loadData","noop","insertItem","updateItem","deleteItem","width","height","heading","filtering","inserting","editing","selecting","sorting","paging","pageLoading","rowClass","item","itemIndex","rowClick","rowDoubleClick","noDataContent","confirmDeleting","deleteConfirm","pagerContainer","pageIndex","pageSize","pageButtonCount","pagerFormat","pagePrevText","pageNextText","pageFirstText","pageLastText","pageNavigatorNextText","pageNavigatorPrevText","invalidNotify","invalidMessage","loadIndication","loadIndicationDelay","loadMessage","loadShading","updateOnResize","rowRenderer","headerRowRenderer","filterRowRenderer","insertRowRenderer","editRowRenderer","grid","jsGrid","LoadTask","get_data","filters","field","make_control","df","fieldname","fieldtype","default","placeholder","parent","find","only_input","make_input","update_link_field","get_values","values","$input","removeAttr","validate_mandatory","messages","reqd","msg","label","hasOwnProperty","ClockAttendance","handler","on","event","draw_clock_in","draw_clock_out","GoogleMap","map_id","empty","init_map","display_default_location","display_locations","display_user_info","loc","message","results","create_markers","detail","set_info_window","latlng","setCenter","emp_info","infowindow"],"mappings":"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"}