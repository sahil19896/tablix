{"version":3,"file":"tablix-dashboard-min.js","sources":["../../../../../apps/tablix/tablix/public/js/dashboards/dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/account_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/buying_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/selling_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/mobile_app_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/project_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/timesheet_dashboard.js","../../../../../apps/tablix/tablix/public/js/dashboards/issue_dashboard.js"],"sourcesContent":["\nfrappe.provide(\"tablix.dashboard\");\n\n\ntablix.dashboard.Dashboard = Class.extend({\n\t\n\tinit: function(args){\n\t\t$.extend(this, args);\n\t\tthis.page = this.wrapper.parent.page;\n\t\t$(\"body\").css(\"background-color\", \"#ebeff2\");\n\t\tthis.page_name = this.wrapper.parent.page_name;\n\t\tthis.make();\n\t},\n\tmake: function(){\n\t\tthis.values = {};\n\t\tthis.flags = {};\n\t\tthis.setup_filters();\n\t\tthis.render_dashboard_template();\n\t},\n\tsetup_filters: function(){\n\n\t\tif(this.setting_filters) return;\n                this.clear_filters();\n                var me = this;\n                $.each(me.filters || [], function(i, df) {\n                        if(df.fieldtype===\"Break\") {\n                                me.page.add_break();\n                        } else {\n                                var f = me.page.add_field(df);\n                                $(f.wrapper).addClass(\"filters pull-left\");\n                                me.filters.push(f);\n\n                                if(df[\"default\"]) {\n                                        f.set_input(df[\"default\"]);\n                                }\n                                if(df.fieldtype==\"Check\") {\n                                        $(f.wrapper).find(\"input[type='checkbox']\");\n                                }\n\n                                if(df.get_query) f.get_query = df.get_query;\n\n\t\t\tif(df.on_change) f.on_change = df.on_change;\n                                df.onchange = () => {\n                                        if(!me.flags.filters_set) {\n                                                // don't trigger change while setting filters\n                                                return;\n                                        }\n                                        if (f.on_change) {\n                                                f.on_change(me);\n                                        } else {\n                                                me.trigger_refresh();\n                                        }\n                                }\n                        }\n                });\n\n                // hide page form if no filters\n                var $filters = $(this.parent).find('.page-form .filters');\n                $(this.parent).find('.page-form').toggle($filters.length ? true : false);\n\n                //  set the field 'query_report_filters_by_name' first as they can be used in\n                //     setting/triggering the filters\n\t\tthis.setting_filters = true;\n                this.setting_filters = false;\n\n                this.flags.filters_set = true;\t\n\t\tthis.trigger_refresh();\n\t},\n\tclear_filters: function(){\n\t},\n\trender_dashboard_template: function(){\n\t\tvar me = this;\n\t\tif(this.template){\n\t\t\t$(frappe.render_template(me.template, {dashboard:me})).appendTo(me.page.wrapper.find(\".page-content\"));\t\n\t\t}\n\t},\n\tset_values: function(){\n\t\t\n\t\tvar me = this;\n\t\t$.each(me.page.fields_dict, function(key, val){\n\t\t\t\tme.values[key] = val.value;\n\t\t});\n\t\t\n\t},\n\t_refresh: function(val){\n\t\tvar me = this;\n\t\tif(!this.request_refresh){\n\t\t\tthis.request_refresh = setTimeout(() => {\n\t\t\t\tme.get_data();\n\t\t\t\tme.request_refresh=null;\t\n\t\t\t}, 300);\t\n\t\t}\n\t},\t\n\ttrigger_refresh: function(){\n\t\tthis.set_values();\n\t\tthis._refresh();\n\t\t\n\t},\n\tget_data: function(){\n\t\tvar me = this;\n\t\tfrappe.call({\n\t\t\tmethod: \"tablix.tdashboard.dashboard.get_data\",\n\t\t\targs: {filters: me.values, page_name: me.page_name},\n\t\t\tcallback: function(res){\n\t\t\t\tif(me.handle_response){\n\t\t\t\t\tme.handle_response(res, me.values);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t})\n\t},\n\tget_combo_chart_options: function(title, lines, type, res){\n\n\t\tvar options = {};\n\n\t\t$.extend(options, {\n\t\t\ttitle: title,\n\t\t\tseriesType: 'bars',\n\t\t\tseries:{\n\t\t\t\tlines:{type: type}\n\t\t\t},\n\t\t\tvAxis: res.results.vaxis|| {},\n\t\t\thAxis: res.results.haxis||{},\n\t\t});\t\n\t\n\t\treturn options;\n\t},\n\tget_gauge_options :function(title, redarr, yellowarr){\n\t\t\t\n\t\tvar options = {};\n\t\t$.extend(options, {\n\t\t\ttitle: title,\n\t\t\tredFrom: redarr[0], redTo: redarr[1],\n\t\t\tyellowFrom: yellowarr[0], yellowTo: yellowarr[1],\n\t\t});\n\t\treturn options;\n\n\t}, \n\tcreate_and_get_element: function(ele_name, cls, height){\n\t\n\t\tvar me = this;\n\t\tvar ele = document.createElement(ele_name);\n\t\tele.id = frappe.utils.get_random(10);\n\t\tif(cls){\n\t\t\tele.setAttribute(\"class\", cls);\n\t\t}\n\t\tele.setAttribute(\"style\", \"margin-bottom:5px;\");\n\t\tif(height){\n\t\t\tele.style.height = height || \"600px\";\n\t\t}\n\t\treturn ele;\n\t}\n\t\n});\n","\ntablix.dashboard.AccountDashboard = tablix.dashboard.Dashboard.extend({\n\n\n\tinit: function(args){\n\t\tthis._super(args);\n\t},\n\tmake: function(args){\n\t\tthis._super(args);\n\t},\n\thandle_response: function(res){\n\t\tconsole.log(res);\n\t}\n});\n","\ntablix.dashboard.BuyingDashboard = tablix.dashboard.Dashboard.extend({\n\n\n\tinit: function(args){\n\t\t\n\t\tthis._super(args);\n\t},\n\tmake: function(){\n\t\t\n\t\tthis._super();\n\t},\n\thandle_response: function(res){\n\t\tconsole.log(res);\n\t}\n});\n","\ntablix.dashboard.SellingDashboard = tablix.dashboard.Dashboard.extend({\n\n\n\tinit: function(args){\n\t\t\n\t\tthis._super(args);\n\t},\n\tmake: function(){\n\t\t\n\t\tthis._super();\n\t},\n\thandle_response: function(res, filters){\n\t\tvar me = this;\n\t\tvar res = res;\n\t\tconsole.log(res);\n\t\t$(\"#sales_dashboard\").empty();\n\t\tif(res && res.results){\n\t\t\tgoogle.charts.setOnLoadCallback(function(){\n\t\t\t\tme.display_data(res, filters);\n\t\t\t});\n\t\t}\n\t},\n\t\n\tdisplay_data: function(res, filters){\n\t\tthis.render_total_data(res, filters);\n\t\tvar me = this;\n\t\tvar managers_labels = res.results.labels.managers;\n\t\tvar bdms_labels = res.results.labels.bdms;\n\t\tvar data = res.results.data|| {};\n\t\t\n\t\tvar qt_managers_data = [managers_labels];\n\t\tvar qt_bdms_data = [bdms_labels];\n\t\tvar so_managers_data = [managers_labels];\n\t\tvar so_bdms_data = [bdms_labels];\n\t\t// Travesing entire results\n\t\t$.each(data, function(report_type, bdms_managers){\n\t\t\t// Dataset Container\n\t\t\tmanagers_qt_temp = new Array(managers_labels.length);\n\t\t\tmanagers_so_temp = new Array(managers_labels.length);\n\t\t\tbdms_qt_temp = new Array(bdms_labels.length);\n\t\t\tbdms_so_temp = new Array(bdms_labels.length);\n\t\t\tmanagers_qt_temp[0]= report_type;\n\t\t\tmanagers_so_temp[0] = report_type;\n\t\t\tbdms_so_temp[0] = report_type;\n\t\t\tbdms_qt_temp[0] = report_type;\n\t\t\t$.each(bdms_managers, function(type, obj){\n\t\t\t\tif(type==\"bdms\"){\n\t\t\t\t\t$.each(obj, function(user, so_qt){\n\t\t\t\t\t\tconsole.log(user);\n\t\t\t\t\t\tif(user){\n\t\t\t\t\t\tbdms_so_temp[bdms_labels.indexOf(user)]=so_qt.so;\n\t\t\t\t\t\tbdms_qt_temp[bdms_labels.indexOf(user)]=so_qt.qt;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tso_bdms_data.push(bdms_so_temp);\n\t\t\t\t\tqt_bdms_data.push(bdms_qt_temp);\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tif(type==\"managers\"){\n\t\t\t\t\t$.each(obj, function(user, so_qt){\n\t\t\t\t\t\tif(user){\n\t\t\t\t\t\tmanagers_so_temp[managers_labels.indexOf(user)]=so_qt.so;\n\t\t\t\t\t\tmanagers_qt_temp[managers_labels.indexOf(user)]=so_qt.qt;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tso_managers_data.push(managers_so_temp);\n\t\t\t\t\tqt_managers_data.push(managers_qt_temp);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\t\t\t\n\t\t});\n\t\tme.draw_chart(res, \"Quotation|&|Managers\", qt_managers_data, filters);\n\t\tme.draw_chart(res, \"Sales Order|&|Managers\", so_managers_data, filters);\n\t\tme.draw_chart(res, \"Quotation|&|BDMS\", qt_bdms_data, filters);\n\t\tme.draw_chart(res, \"Sales Order|&|BDMS\", so_bdms_data, filters);\n\n\t},\n\tdraw_chart: function(res, title, data, filters){\n\n\t\t\t\n\t\tvar datatable = google.visualization.arrayToDataTable(data);\n\t\tele = this.create_and_get_element(\"div\", \"col-lg-12\", \"450px\");\n\t\t$(ele).appendTo(\"#sales_dashboard\");\n\t\tele = document.getElementById(ele.id);\n\t\tvar chart  = new google.visualization.ComboChart(ele);\n\t\tchart.draw(datatable, this.get_options(res, title, filters, data));\t\n\n\t},\n\tget_options: function(res, title, filters, data){\n\t\t\n\t\tlines = data[0].length-1;\n\t\ttitle = format(\"{0} {1}\", [title, filters.report_type])\t\n\t\tvar default_options = this.get_combo_chart_options(title, lines, 'line', res);\n\t\treturn default_options;\n\t},\n\trender_total_data: function(res, filters){\n\t\tvar total = res.results.total;\n\t\tamount = total.amount;\n\t\tnumber = total.number;\n\t\tthis.render_total_amount(amount);\n\t\tthis.render_total_number(number);\n\t\t\t\n\t},\n\trender_total_amount: function(amount){\n\t\tvar me = this;\n\t\tdata = google.visualization.arrayToDataTable([\n\t\t\t['Documents', 'Quotation', \"Sales Order\"],\n\t\t\t['Amount', amount.qt, amount.so],\n\t\t]);\n\t\tele = me.create_and_get_element('div', 'col-lg-6', '300px');\n\t\t$(ele).appendTo(\"#sales_dashboard\");\n\t\tele = document.getElementById(ele.id);\n\t\t\n\t\tvar chart = new google.charts.Bar(ele);\n\t\tchart.draw(data, {\n\t\t\ttitle:\"Sales Order |&| Quotation Amount\",\n\t\t})\n\t\t\n\t},\n\n\trender_total_number: function(number){\n\t\tvar me =  this;\n\t\tvar data = google.visualization.arrayToDataTable([\n\t\t\t['Documents', 'Opportunity', 'Quotation', 'Sales Order'],\n\t\t\t['Numbers', number.opp, number.qt, number.so],\n\t\t]);\n\t\tele = me.create_and_get_element(\"div\", \"col-lg-6\", \"300px\"),\n\t\t$(ele).appendTo(\"#sales_dashboard\");\n\t\tele = document.getElementById(ele.id);\n\t\tvar chart = new google.charts.Bar(ele);\n\t\tchart.draw(data, {\n\t\t\ttitle: 'Sales Order |&| Quotation Number',\n\t\t});\t\t\t\n\t}\n\t\n});\n","\ntablix.dashboard.MobileAppDashboard = tablix.dashboard.Dashboard.extend({\n\n\n\tinit: function(args){\n\t\tthis._super(args);\n\t},\n\t\n\tmake: function(){\n\t\tthis._super()\n\t},\n\thandle_response: function(res){\n\t\tconsole.log(res);\n\t}\n});\n","\ntablix.dashboard.ProjectDashboard = tablix.dashboard.Dashboard.extend({\n\n\tinit: function(args){\n\t\tthis._super(args);\n\t},\n\tmake: function(args){\n\t\tthis._super();\n\t},\n\thandle_response: function(res){\n\n\t\tconsole.log(res);\n\t}\n});\n","\ntablix.dashboard.TimesheetDashboard = tablix.dashboard.Dashboard.extend({\n\n\tinit: function(args){\n\t\tthis._super(args);\n\n\t},\n\tmake: function(){\n\t\tthis._super();\n\t},\n\thandle_response: function(res){\n\t\n\t\tconsole.log(res);\n\t}\n});\n","\nfrappe.provide(\"tablix.dashboard.IssueDashboard\");\n\ntablix.dashboard.IssueDashboard = tablix.dashboard.Dashboard.extend({\n\n\n\tinit: function(args){\n\n\t\tthis._super(args);\n\t},\n\tmake: function(){\n\t\tthis._super();\n\t},\n\thandle_response: function(res, filters){\n\t\tvar me = this;\n\t\t$(\"#issue_dashboard\").empty();\n\t\tif(res && res.results){\n\t\t\tgoogle.charts.setOnLoadCallback(function(){\n                        \t        me.display_data(res, filters);\n\t\t\t});\n\t\t}\n\t},\n\tdisplay_data: function(res, filters){\n\n\t\tvar me = this;\n\t\t// Month wise data\n\t\tvar monthly_headers = [\"Months\", \"Total Value\"];\n\t\tvar monthly_map_data = [monthly_headers];\n\t\t\n\t\t// Hourly Data\n\t\tvar hourly_headers = ['Months', 'Less than two hours', '2-4',\n\t\t\t\t'4-16', '16-24', 'More than 24 hours', 'Others'\n\t\t\t];\n\t\tvar hourly_map_data = [hourly_headers];\n\t\t\n\t\t$.each(res.results, function(idx, val){\n\t\t\tmonthly_map_data.push([val.month, val.total]);\n\t\t\t\n\t\t\tvar hourly = val.hourly;\n\t\t\thourly_map_data.push([val.month, hourly['Less than two hours'], hourly['2-4'], \n\t\t\t\t\thourly['4-16'], hourly['16-24'], hourly['>24'], hourly['null']]);\n\t\t\tme.display_total_issue_category(val);\t\n\t\t});\n\n\t\tthis.display_total_issue_monthly(monthly_map_data);\n\t\tthis.display_total_issue_hourly(hourly_map_data);\n\t},\n\tdisplay_total_issue_monthly: function(monthly_map_data){\n\t\t\tele = this.create_and_get_element(\"div\", \"col-lg-12\", \"300px\")\n\t\t\t$(ele).appendTo(\"#issue_dashboard\");\n\t\t\tdatatable = new google.visualization.arrayToDataTable(monthly_map_data);\n\t\t\tele = document.getElementById(ele.id);\n\t\t\tchart = new google.charts.Bar(ele);\n\t\t\tchart.draw(datatable, {title: \"Monthly Total Issue Resolved\", colors: frappe.boot.tablix.tdashboard.colors});\t\n\t},\n\n\tdisplay_total_issue_hourly: function(hourly_map_data){\n\t\t\tele = this.create_and_get_element(\"div\", \"col-lg-12\", \"300px\")\n\t\t\t$(ele).appendTo(\"#issue_dashboard\");\n\t\t\tdatatable = new google.visualization.arrayToDataTable(hourly_map_data);\n\t\t\tele = document.getElementById(ele.id);\n\t\t\tchart = new google.charts.Bar(ele);\n\t\t\tchart.draw(datatable, {title: \"Monthly&Hourly Total Issue Resolved\"});\t\n\t\t\t\n\t},\n\tdisplay_total_issue_category: function(item){\n\n\t\t\tvar category_headers = [\"Month\"]\n\t\t\tvar category_data = [item.month];\n\t\t\tvar category_data_map = [null, null];\n\t\t\tvar flag = false;\n\t\t\t$.each(item.category, function(key, val){\n\t\t\t\tcategory_headers.push(key=='' || key == ' ' || key==null? \"Others\": key )\n\t\t\t\tcategory_data.push(val);\n\t\t\t\tflag = true;\n\t\t\t});\n\t\t\tif(!flag){\n\t\t\t\treturn \n\t\t\t}\n\t\t\tcategory_data_map[0]=category_headers;\n\t\t\tcategory_data_map[1] = category_data;\n\t\t\tele = this.create_and_get_element(\"div\", \"col-lg-6\", \"400px\")\n\t\t\t$(ele).appendTo(\"#issue_dashboard\");\n\t\t\tdatatable = new google.visualization.arrayToDataTable(category_data_map);\n\t\t\tele = document.getElementById(ele.id);\n\t\t\tchart = new google.charts.Bar(ele);\n\t\t\tchart.draw(datatable, {title: \"Monthly&Hourly Total Issue Resolved\"});\t\n\t\t\n\t}\n}) \n"],"names":["frappe","provide","tablix","dashboard","Dashboard","Class","extend","init","args","$","this","page","wrapper","parent","css","page_name","make","values","flags","setup_filters","render_dashboard_template","setting_filters","clear_filters","me","each","filters","i","df","fieldtype","add_break","f","add_field","addClass","push","set_input","find","get_query","on_change","onchange","filters_set","trigger_refresh","$filters","toggle","length","template","render_template","appendTo","set_values","fields_dict","key","val","value","_refresh","request_refresh","setTimeout","get_data","call","method","callback","res","handle_response","get_combo_chart_options","title","lines","type","options","seriesType","series","vAxis","results","vaxis","hAxis","haxis","get_gauge_options","redarr","yellowarr","redFrom","redTo","yellowFrom","yellowTo","create_and_get_element","ele_name","cls","height","ele","document","createElement","id","utils","get_random","setAttribute","style","AccountDashboard","_super","console","log","BuyingDashboard","SellingDashboard","empty","google","charts","setOnLoadCallback","display_data","render_total_data","managers_labels","labels","managers","bdms_labels","bdms","data","qt_managers_data","qt_bdms_data","so_managers_data","so_bdms_data","report_type","bdms_managers","managers_qt_temp","Array","managers_so_temp","bdms_qt_temp","bdms_so_temp","obj","user","so_qt","indexOf","so","qt","draw_chart","datatable","visualization","arrayToDataTable","getElementById","ComboChart","draw","get_options","format","total","amount","number","render_total_amount","render_total_number","Bar","opp","MobileAppDashboard","ProjectDashboard","TimesheetDashboard","IssueDashboard","monthly_map_data","hourly_map_data","idx","month","hourly","display_total_issue_category","display_total_issue_monthly","display_total_issue_hourly","chart","colors","boot","tdashboard","item","category_headers","category_data","category_data_map","flag","category"],"mappings":"yBACAA,OAAOC,QAAQ,oBAGfC,OAAOC,UAAUC,UAAYC,MAAMC,OAAO,CAEzCC,KAAM,SAASC,GACdC,EAAEH,OAAOI,KAAMF,GACfE,KAAKC,KAAOD,KAAKE,QAAQC,OAAOF,KAChCF,EAAE,QAAQK,IAAI,mBAAoB,WAClCJ,KAAKK,UAAYL,KAAKE,QAAQC,OAAOE,UACrCL,KAAKM,QAENA,KAAM,WACLN,KAAKO,OAAS,GACdP,KAAKQ,MAAQ,GACbR,KAAKS,gBACLT,KAAKU,6BAEND,cAAe,WAEd,IAAGT,KAAKW,gBAAR,CACcX,KAAKY,gBACL,IAAIC,EAAKb,KACTD,EAAEe,KAAKD,EAAGE,SAAW,GAAI,SAASC,EAAGC,GAC7B,GAAkB,UAAfA,EAAGC,UACEL,EAAGZ,KAAKkB,gBACT,CACC,IAAIC,EAAIP,EAAGZ,KAAKoB,UAAUJ,GAC1BlB,EAAEqB,EAAElB,SAASoB,SAAS,qBACtBT,EAAGE,QAAQQ,KAAKH,GAEbH,EAAY,SACPG,EAAEI,UAAUP,EAAY,SAEf,SAAdA,EAAGC,WACEnB,EAAEqB,EAAElB,SAASuB,KAAK,0BAGvBR,EAAGS,YAAWN,EAAEM,UAAYT,EAAGS,WAE5DT,EAAGU,YAAWP,EAAEO,UAAYV,EAAGU,WACLV,EAAGW,oBACSf,EAAGL,MAAMqB,cAITT,EAAEO,UACEP,EAAEO,UAAUd,GAEZA,EAAGiB,uBAOnC,IAAIC,EAAWhC,EAAEC,KAAKG,QAAQsB,KAAK,uBACnC1B,EAAEC,KAAKG,QAAQsB,KAAK,cAAcO,SAAOD,EAASE,QAIhEjC,KAAKW,iBAAkB,EACTX,KAAKW,iBAAkB,EAEvBX,KAAKQ,MAAMqB,aAAc,EACvC7B,KAAK8B,oBAENlB,cAAe,aAEfF,0BAA2B,WAEvBV,KAAKkC,UACPnC,EAAET,OAAO6C,gBAFDnC,KAEoBkC,SAAU,CAACzC,UAF/BO,QAE+CoC,SAF/CpC,KAE2DC,KAAKC,QAAQuB,KAAK,mBAGvFY,WAAY,WAEX,IAAIxB,EAAKb,KACTD,EAAEe,KAAKD,EAAGZ,KAAKqC,YAAa,SAASC,EAAKC,GACxC3B,EAAGN,OAAOgC,GAAOC,EAAIC,SAIxBC,SAAU,SAASF,GAClB,IAAI3B,EAAKb,KACLA,KAAK2C,kBACR3C,KAAK2C,gBAAkBC,sBACtB/B,EAAGgC,WACHhC,EAAG8B,gBAAgB,MACjB,OAGLb,gBAAiB,WAChB9B,KAAKqC,aACLrC,KAAK0C,YAGNG,SAAU,WACT,IAAIhC,EAAKb,KACTV,OAAOwD,KAAK,CACXC,OAAQ,uCACRjD,KAAM,CAACiB,QAASF,EAAGN,OAAQF,UAAWQ,EAAGR,WACzC2C,SAAU,SAASC,GACfpC,EAAGqC,iBACLrC,EAAGqC,gBAAgBD,EAAKpC,EAAGN,YAM/B4C,wBAAyB,SAASC,EAAOC,EAAOC,EAAML,GAErD,IAAIM,EAAU,GAYd,OAVAxD,EAAEH,OAAO2D,EAAS,CACjBH,MAAOA,EACPI,WAAY,OACZC,OAAO,CACNJ,MAAM,CAACC,KAAMA,IAEdI,MAAOT,EAAIU,QAAQC,OAAQ,GAC3BC,MAAOZ,EAAIU,QAAQG,OAAO,KAGpBP,GAERQ,kBAAmB,SAASX,EAAOY,EAAQC,GAE1C,IAAIV,EAAU,GAMd,OALAxD,EAAEH,OAAO2D,EAAS,CACjBH,MAAOA,EACPc,QAASF,EAAO,GAAIG,MAAOH,EAAO,GAClCI,WAAYH,EAAU,GAAII,SAAUJ,EAAU,KAExCV,GAGRe,uBAAwB,SAASC,EAAUC,EAAKC,GAG/C,IAAIC,EAAMC,SAASC,cAAcL,GASjC,OARAG,EAAIG,GAAKvF,OAAOwF,MAAMC,WAAW,IAC9BP,GACFE,EAAIM,aAAa,QAASR,GAE3BE,EAAIM,aAAa,QAAS,sBACvBP,IACFC,EAAIO,MAAMR,OAASA,GAAU,SAEvBC,KCrJTlF,OAAOC,UAAUyF,iBAAmB1F,OAAOC,UAAUC,UAAUE,OAAO,CAGrEC,KAAM,SAASC,GACdE,KAAKmF,OAAOrF,IAEbQ,KAAM,SAASR,GACdE,KAAKmF,OAAOrF,IAEboD,gBAAiB,SAASD,GACzBmC,QAAQC,IAAIpC,MCVdzD,OAAOC,UAAU6F,gBAAkB9F,OAAOC,UAAUC,UAAUE,OAAO,CAGpEC,KAAM,SAASC,GAEdE,KAAKmF,OAAOrF,IAEbQ,KAAM,WAELN,KAAKmF,UAENjC,gBAAiB,SAASD,GACzBmC,QAAQC,IAAIpC,MCZdzD,OAAOC,UAAU8F,iBAAmB/F,OAAOC,UAAUC,UAAUE,OAAO,CAGrEC,KAAM,SAASC,GAEdE,KAAKmF,OAAOrF,IAEbQ,KAAM,WAELN,KAAKmF,UAENjC,gBAAiB,SAASD,EAAKlC,GAC9B,IAAIF,EAAKb,KACLiD,EAAMA,EACVmC,QAAQC,IAAIpC,GACZlD,EAAE,oBAAoByF,QACnBvC,GAAOA,EAAIU,SACb8B,OAAOC,OAAOC,kBAAkB,WAC/B9E,EAAG+E,aAAa3C,EAAKlC,MAKxB6E,aAAc,SAAS3C,EAAKlC,GAC3Bf,KAAK6F,kBAAkB5C,EAAKlC,GAC5B,IACI+E,EAAkB7C,EAAIU,QAAQoC,OAAOC,SACrCC,EAAchD,EAAIU,QAAQoC,OAAOG,KACjCC,EAAOlD,EAAIU,QAAQwC,MAAO,GAE1BC,EAAmB,CAACN,GACpBO,EAAe,CAACJ,GAChBK,EAAmB,CAACR,GACpBS,EAAe,CAACN,GAEpBlG,EAAEe,KAAKqF,EAAM,SAASK,EAAaC,GAElCC,iBAAmB,IAAIC,MAAMb,EAAgB7D,QAC7C2E,iBAAmB,IAAID,MAAMb,EAAgB7D,QAC7C4E,aAAe,IAAIF,MAAMV,EAAYhE,QACrC6E,aAAe,IAAIH,MAAMV,EAAYhE,QACrCyE,iBAAiB,GAAIF,EACrBI,iBAAiB,GAAKJ,EACtBM,aAAa,GAAKN,EAClBK,aAAa,GAAKL,EAClBzG,EAAEe,KAAK2F,EAAe,SAASnD,EAAMyD,GAC3B,QAANzD,IACFvD,EAAEe,KAAKiG,EAAK,SAASC,EAAMC,GAC1B7B,QAAQC,IAAI2B,GACTA,IACHF,aAAab,EAAYiB,QAAQF,IAAOC,EAAME,GAC9CN,aAAaZ,EAAYiB,QAAQF,IAAOC,EAAMG,MAG/Cb,EAAahF,KAAKuF,cAClBT,EAAa9E,KAAKsF,eAGV,YAANvD,IACFvD,EAAEe,KAAKiG,EAAK,SAASC,EAAMC,GACvBD,IACHJ,iBAAiBd,EAAgBoB,QAAQF,IAAOC,EAAME,GACtDT,iBAAiBZ,EAAgBoB,QAAQF,IAAOC,EAAMG,MAGvDd,EAAiB/E,KAAKqF,kBACtBR,EAAiB7E,KAAKmF,uBAzChB1G,KA8CNqH,WAAWpE,EAAK,uBAAwBmD,EAAkBrF,GA9CpDf,KA+CNqH,WAAWpE,EAAK,yBAA0BqD,EAAkBvF,GA/CtDf,KAgDNqH,WAAWpE,EAAK,mBAAoBoD,EAActF,GAhD5Cf,KAiDNqH,WAAWpE,EAAK,qBAAsBsD,EAAcxF,IAGxDsG,WAAY,SAASpE,EAAKG,EAAO+C,EAAMpF,GAGtC,IAAIuG,EAAY7B,OAAO8B,cAAcC,iBAAiBrB,GACtDzB,IAAM1E,KAAKsE,uBAAuB,MAAO,YAAa,SACtDvE,EAAE2E,KAAKtC,SAAS,oBAChBsC,IAAMC,SAAS8C,eAAe/C,IAAIG,IACrB,IAAIY,OAAO8B,cAAcG,WAAWhD,KAC3CiD,KAAKL,EAAWtH,KAAK4H,YAAY3E,EAAKG,EAAOrC,EAASoF,KAG7DyB,YAAa,SAAS3E,EAAKG,EAAOrC,EAASoF,GAK1C,OAHA9C,MAAQ8C,EAAK,GAAGlE,OAAO,EACvBmB,EAAQyE,OAAO,UAAW,CAACzE,EAAOrC,EAAQyF,cACpBxG,KAAKmD,wBAAwBC,EAAOC,MAAO,OAAQJ,IAG1E4C,kBAAmB,SAAS5C,EAAKlC,GAChC,IAAI+G,EAAQ7E,EAAIU,QAAQmE,MACxBC,OAASD,EAAMC,OACfC,OAASF,EAAME,OACfhI,KAAKiI,oBAAoBF,QACzB/H,KAAKkI,oBAAoBF,SAG1BC,oBAAqB,SAASF,GAE7B5B,KAAOV,OAAO8B,cAAcC,iBAAiB,CAC5C,CAAC,YAAa,YAAa,eAC3B,CAAC,SAAUO,EAAOX,GAAIW,EAAOZ,MAE9BzC,IALS1E,KAKAsE,uBAAuB,MAAO,WAAY,SACnDvE,EAAE2E,KAAKtC,SAAS,oBAChBsC,IAAMC,SAAS8C,eAAe/C,IAAIG,IAEtB,IAAIY,OAAOC,OAAOyC,IAAIzD,KAC5BiD,KAAKxB,KAAM,CAChB/C,MAAM,sCAKR8E,oBAAqB,SAASF,GAC7B,IACI7B,EAAOV,OAAO8B,cAAcC,iBAAiB,CAChD,CAAC,YAAa,cAAe,YAAa,eAC1C,CAAC,UAAWQ,EAAOI,IAAKJ,EAAOZ,GAAIY,EAAOb,MAE3CzC,IALU1E,KAKDsE,uBAAuB,MAAO,WAAY,SACnDvE,EAAE2E,KAAKtC,SAAS,oBAChBsC,IAAMC,SAAS8C,eAAe/C,IAAIG,IACtB,IAAIY,OAAOC,OAAOyC,IAAIzD,KAC5BiD,KAAKxB,EAAM,CAChB/C,MAAO,wCCnIV5D,OAAOC,UAAU4I,mBAAqB7I,OAAOC,UAAUC,UAAUE,OAAO,CAGvEC,KAAM,SAASC,GACdE,KAAKmF,OAAOrF,IAGbQ,KAAM,WACLN,KAAKmF,UAENjC,gBAAiB,SAASD,GACzBmC,QAAQC,IAAIpC,MCXdzD,OAAOC,UAAU6I,iBAAmB9I,OAAOC,UAAUC,UAAUE,OAAO,CAErEC,KAAM,SAASC,GACdE,KAAKmF,OAAOrF,IAEbQ,KAAM,SAASR,GACdE,KAAKmF,UAENjC,gBAAiB,SAASD,GAEzBmC,QAAQC,IAAIpC,MCVdzD,OAAOC,UAAU8I,mBAAqB/I,OAAOC,UAAUC,UAAUE,OAAO,CAEvEC,KAAM,SAASC,GACdE,KAAKmF,OAAOrF,IAGbQ,KAAM,WACLN,KAAKmF,UAENjC,gBAAiB,SAASD,GAEzBmC,QAAQC,IAAIpC,MCXd3D,OAAOC,QAAQ,mCAEfC,OAAOC,UAAU+I,eAAiBhJ,OAAOC,UAAUC,UAAUE,OAAO,CAGnEC,KAAM,SAASC,GAEdE,KAAKmF,OAAOrF,IAEbQ,KAAM,WACLN,KAAKmF,UAENjC,gBAAiB,SAASD,EAAKlC,GAC9B,IAAIF,EAAKb,KACTD,EAAE,oBAAoByF,QACnBvC,GAAOA,EAAIU,SACb8B,OAAOC,OAAOC,kBAAkB,WACF9E,EAAG+E,aAAa3C,EAAKlC,MAIrD6E,aAAc,SAAS3C,EAAKlC,GAE3B,IAAIF,EAAKb,KAGLyI,EAAmB,CADD,CAAC,SAAU,gBAO7BC,EAAkB,CAHD,CAAC,SAAU,sBAAuB,MACrD,OAAQ,QAAS,qBAAsB,WAIzC3I,EAAEe,KAAKmC,EAAIU,QAAS,SAASgF,EAAKnG,GACjCiG,EAAiBlH,KAAK,CAACiB,EAAIoG,MAAOpG,EAAIsF,QAEtC,IAAIe,EAASrG,EAAIqG,OACjBH,EAAgBnH,KAAK,CAACiB,EAAIoG,MAAOC,EAAO,uBAAwBA,EAAO,OACrEA,EAAO,QAASA,EAAO,SAAUA,EAAO,OAAQA,EAAa,OAC/DhI,EAAGiI,6BAA6BtG,KAGjCxC,KAAK+I,4BAA4BN,GACjCzI,KAAKgJ,2BAA2BN,IAEjCK,4BAA6B,SAASN,GACpC/D,IAAM1E,KAAKsE,uBAAuB,MAAO,YAAa,SACtDvE,EAAE2E,KAAKtC,SAAS,oBAChBkF,UAAY,IAAI7B,OAAO8B,cAAcC,iBAAiBiB,GACtD/D,IAAMC,SAAS8C,eAAe/C,IAAIG,IAClCoE,MAAQ,IAAIxD,OAAOC,OAAOyC,IAAIzD,KAC9BuE,MAAMtB,KAAKL,UAAW,CAAClE,MAAO,+BAAgC8F,OAAQ5J,OAAO6J,KAAK3J,OAAO4J,WAAWF,UAGtGF,2BAA4B,SAASN,GACnChE,IAAM1E,KAAKsE,uBAAuB,MAAO,YAAa,SACtDvE,EAAE2E,KAAKtC,SAAS,oBAChBkF,UAAY,IAAI7B,OAAO8B,cAAcC,iBAAiBkB,GACtDhE,IAAMC,SAAS8C,eAAe/C,IAAIG,IAClCoE,MAAQ,IAAIxD,OAAOC,OAAOyC,IAAIzD,KAC9BuE,MAAMtB,KAAKL,UAAW,CAAClE,MAAO,yCAGhC0F,6BAA8B,SAASO,GAErC,IAAIC,EAAmB,CAAC,SACpBC,EAAgB,CAACF,EAAKT,OACtBY,EAAoB,CAAC,KAAM,MAC3BC,GAAO,EACX1J,EAAEe,KAAKuI,EAAKK,SAAU,SAASnH,EAAKC,GACnC8G,EAAiB/H,KAAU,IAALgB,GAAkB,KAAPA,GAAmB,MAALA,EAAW,SAAUA,GACpEgH,EAAchI,KAAKiB,GACnBiH,GAAO,IAEJA,IAGJD,EAAkB,GAAGF,EACrBE,EAAkB,GAAKD,EACvB7E,IAAM1E,KAAKsE,uBAAuB,MAAO,WAAY,SACrDvE,EAAE2E,KAAKtC,SAAS,oBAChBkF,UAAY,IAAI7B,OAAO8B,cAAcC,iBAAiBgC,GACtD9E,IAAMC,SAAS8C,eAAe/C,IAAIG,IAClCoE,MAAQ,IAAIxD,OAAOC,OAAOyC,IAAIzD,KAC9BuE,MAAMtB,KAAKL,UAAW,CAAClE,MAAO"}